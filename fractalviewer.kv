
<MainScreen>:
    orientation: 'horizontal'
    display: _display
    color_panel: _color_panel
    ControlPanel:
        size_hint_x: 1.0
    Display:
        id: _display
        size_hint_x: 4.0
    ColorPanel:
        id: _color_panel
        size_hint_x: 1.0

<Display>:
    orientation: 'vertical'
    scene: _scene
    canvas.before:
        Color:
            rgba: [0.3, 0.3, 0.3, 1]
        Rectangle:
            size: self.size
            pos: self.pos
    Image:
        id: _scene
        size_hint: 1.0, 1.0
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        allow_stretch: True

<ColorPanel>:
    orientation: 'vertical'
    padding: 10
    spacing: 10
    hue: _hue
    saturation: _saturation
    brightness: _brightness
    palette_image: _palette_image
    canvas.before:
        Color:
            rgba: [0.2, 0.2, 0.2, 1]
        Rectangle:
            size: self.size
            pos: self.pos
    ColorContent:
        size_hint_y: 5.0
        id: _hue
        title: 'Hue'
        easing: 'OutExp'
        begin: 0.2
        end: 1.0
    ColorContent:
        size_hint_y: 5.0
        id: _saturation
        title: 'Saturation'
        easing: 'OutExp'
        begin: 1.0
        end: 0.0
    ColorContent:
        size_hint_y: 5.0
        id: _brightness
        title: 'Brightness'
        easing: 'Fixed'
        begin: 1.0
        end: 0.0
    Label:
        size_hint_y: 1.0
        font_size: self.height * 0.5
        text_size: self.size
        halign: 'left'
        text: 'Color Palette'
    Image:
        size_hint_y: 1.0
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        id: _palette_image
        allow_stretch: True
        keep_ratio: False

<ColorContent>:
    orientation: 'vertical'
    spacing: 10
    title: ''
    easing: 'Fixed'
    begin: 1.0
    end: 0.0
    Label:
        size_hint_y: 1.0
        font_size: self.height * 0.5
        text_size: self.size
        halign: 'left'
        text: root.title
    GridLayout:
        size_hint_y: 3.0
        cols: 2
        Label:
            size_hint_x: 1.0
            text: 'easing'
        Spinner:
            size_hint_x: 3.0
            size_hint_y: 1.0
            text: root.easing
            values: root.values
            on_text: root.change_easing(self.text)
        Label:
            text: 'begin'
        Slider:
            size_hint_y: 1.0
            min: 0.0
            max: 1.0
            value: root.begin
            on_value: root.change_begin(self.value)
        Label:
            text: 'end'
        Slider:
            size_hint_y: 1.0
            min: 0.0
            max: 1.0
            value: root.end
            on_value: root.change_end(self.value)
            disabled: root.easing == 'Fixed'

<ControlPanel@Widget>:
    canvas.before:
        Color:
            rgba: [0.2, 0.2, 0.2, 1]
        Rectangle:
            size: self.size
            pos: self.pos